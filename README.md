# MCP Chat Yoran for Kimi2

ä¸€ä¸ªåŸºäº MCP (Model Context Protocol) å’Œ React çš„ Obsidian èŠå¤©æ’ä»¶ï¼Œæä¾›æ™ºèƒ½å¯¹è¯å’Œæ–‡æ¡£äº¤äº’åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ¯ **æ™ºèƒ½èŠå¤©ç•Œé¢**ï¼šåŸºäº React æ„å»ºçš„ç°ä»£åŒ–èŠå¤© UI
- ğŸ”„ **MCP åè®®æ”¯æŒ**ï¼šé›†æˆ Model Context Protocol å®ç°æ™ºèƒ½å¯¹è¯
- ğŸ“± **ä¾§è¾¹æ é›†æˆ**ï¼šå¯æ‹–æ‹½çš„ä¾§è¾¹æ èŠå¤©é¢æ¿
- ğŸ¨ **ä¸»é¢˜é€‚é…**ï¼šå®Œç¾é€‚é… Obsidian çš„æ˜æš—ä¸»é¢˜
- âš¡ **çƒ­é‡è½½å¼€å‘**ï¼šæ”¯æŒå¼€å‘æ—¶çš„å®æ—¶é¢„è§ˆ
- ğŸ› ï¸ **å¿«æ·å·¥å…·**ï¼šå†…ç½®å¤šç§å®ç”¨å·¥å…·æŒ‰é’®
- ğŸ“ **æ–‡æœ¬é€‰æ‹©äº¤äº’**ï¼šæ”¯æŒé€‰ä¸­æ–‡æœ¬ç›´æ¥å‘é€åˆ°èŠå¤©

## TODO 
### ğŸ¤– AI å¯¹è¯ç³»ç»Ÿ
- [x] **é›†æˆ OpenAI/Claude API**
  - [x] é…ç½® API å¯†é’¥ç®¡ç†
  - [x] å®ç°å¤šæ¨¡å‹æ”¯æŒï¼ˆGPT-4, Claude, æœ¬åœ°æ¨¡å‹ï¼‰
  - [x] æ·»åŠ æ¨¡å‹åˆ‡æ¢åŠŸèƒ½
  - [x] å®ç°æµå¼å“åº”ï¼ˆæ‰“å­—æœºæ•ˆæœï¼‰

- [ ] **ä¸Šä¸‹æ–‡ç®¡ç†**
  - [x] å®ç°å¯¹è¯å†å²è®°å½•
  - [x] æ·»åŠ ä¸Šä¸‹æ–‡çª—å£ç®¡ç†
  - [x] æ”¯æŒé•¿å¯¹è¯çš„æ™ºèƒ½æˆªæ–­
  - [x] å®ç°å¯¹è¯åˆ†æ”¯åŠŸèƒ½

### ğŸ“ æ–‡æ¡£æ™ºèƒ½å¤„ç†

- [ ] **æ–‡æ¡£åˆ†æåŠŸèƒ½**
  - [x] å½“å‰ç¬”è®°å†…å®¹åˆ†æ
  - [ ] æ–‡æ¡£æ‘˜è¦ç”Ÿæˆ
  - [ ] å…³é”®è¯æå–
  - [ ] æ–‡æ¡£ç»“æ„ä¼˜åŒ–å»ºè®®

- [ ] **å†…å®¹ç”Ÿæˆ**
  - [ ] åŸºäºé€‰ä¸­æ–‡æœ¬çš„ç»­å†™
  - [ ] æ–‡æ¡£å¤§çº²ç”Ÿæˆ
  - [ ] æ ‡é¢˜å»ºè®®
  - [ ] æ ‡ç­¾æ¨è

- [ ] **æ–‡æœ¬å¤„ç†**
  - [ ] è¯­æ³•æ£€æŸ¥å’Œä¿®æ­£
  - [ ] æ–‡æœ¬æ”¹å†™ï¼ˆæ­£å¼/éæ­£å¼é£æ ¼ï¼‰
  - [ ] ç¿»è¯‘åŠŸèƒ½
  - [ ] æ–‡æœ¬æ‰©å±•/å‹ç¼©

### ğŸ’¬ èŠå¤©ç•Œé¢
- [ ] **æ¶ˆæ¯ç±»å‹æ”¯æŒ**
  - [x] Markdown æ¸²æŸ“
  - [x] ä»£ç é«˜äº®æ˜¾ç¤º
  - [x] æ•°å­¦å…¬å¼æ¸²æŸ“
  - [ ] å›¾ç‰‡/æ–‡ä»¶é¢„è§ˆ

- [ ] **äº¤äº’ä¼˜åŒ–**
  - [ ] æ¶ˆæ¯ç¼–è¾‘åŠŸèƒ½
  - [ ] æ¶ˆæ¯åˆ é™¤åŠŸèƒ½
  - [ ] æ¶ˆæ¯å¤åˆ¶/åˆ†äº«
  - [ ] å¿«é€Ÿå›å¤æŒ‰é’®

### âš¡ å¿«æ·æ“ä½œ
- [ ] **é€‰ä¸­æ–‡æœ¬èœå•**
  - [ ] å³é”®èœå•é›†æˆ
  - [ ] å¿«æ·é”®æ”¯æŒ
  - [ ] æµ®åŠ¨å·¥å…·æ 
  - [ ] æ™ºèƒ½å»ºè®®æ°”æ³¡

- [ ] **å‘½ä»¤é¢æ¿é›†æˆ**
  - [ ] AI å†™ä½œåŠ©æ‰‹å‘½ä»¤
  - [ ] æ–‡æ¡£åˆ†æå‘½ä»¤
  - [ ] å¿«é€Ÿé—®ç­”å‘½ä»¤
    - [ ] **Notion AI é£æ ¼åŠŸèƒ½**
      - [ ] "ç»§ç»­å†™ä½œ" åŠŸèƒ½
      - [ ] "æ”¹è¿›å†™ä½œ" åŠŸèƒ½
      - [ ] "æ€»ç»“" åŠŸèƒ½
      - [ ] "è§£é‡Š" åŠŸèƒ½
      - [ ] "å¤´è„‘é£æš´" åŠŸèƒ½

### ğŸ”— é›†æˆåŠŸèƒ½
- [ ] **å¤–éƒ¨æœåŠ¡é›†æˆ**
  - [ ] ç½‘ç»œæœç´¢åŠŸèƒ½
  - [ ] æ–‡çŒ®æ£€ç´¢
  - [ ] å›¾ç‰‡ç”Ÿæˆï¼ˆDALL-E/Midjourneyï¼‰
  - [ ] è¯­éŸ³è½¬æ–‡å­—

### ğŸ›ï¸ ç”¨æˆ·é…ç½®
- [ ] **AI æ¨¡å‹è®¾ç½®**
  - [x] API é…ç½®ç•Œé¢
  - [x] è‡ªå®šä¹‰æç¤ºè¯

### ğŸ” æµ‹è¯•è¦†ç›–
- [ ] **å•å…ƒæµ‹è¯•**
  - [ ] API è°ƒç”¨æµ‹è¯•
  - [ ] UI ç»„ä»¶æµ‹è¯•
  - [ ] æ•°æ®å¤„ç†æµ‹è¯•

### ğŸ“– ç”¨æˆ·æ–‡æ¡£
- [ ] **ä½¿ç”¨æŒ‡å—**
  - [ ] å¿«é€Ÿå¼€å§‹æ•™ç¨‹
  - [ ] åŠŸèƒ½è¯¦ç»†è¯´æ˜
  - [ ] å¸¸è§é—®é¢˜è§£ç­”
  - [ ] æœ€ä½³å®è·µæŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- npm æˆ– pnpm
- Obsidian >= 0.15.0

### å®‰è£…ä¾èµ–

```bash
npm install
# æˆ–ä½¿ç”¨ pnpm
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼ï¼ˆæ–‡ä»¶ç›‘å¬ + è‡ªåŠ¨æ„å»ºï¼‰
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

### å®‰è£…åˆ° Obsidian

#### æ–¹æ³• 1ï¼šå¼€å‘ç¯å¢ƒï¼ˆæ¨èï¼‰

```bash
# æ„å»ºé¡¹ç›®
npm run build

# åˆ›å»ºç¬¦å·é“¾æ¥åˆ°ä½ çš„ vault
ln -s $(pwd)/mcp-chat-yoran /path/to/your/vault/.obsidian/plugins/mcp-chat-yoran
```

#### æ–¹æ³• 2ï¼šç›´æ¥å¤åˆ¶

```bash
# å¤åˆ¶æ„å»ºäº§ç‰©åˆ°æ’ä»¶ç›®å½•
cp -r mcp-chat-yoran /path/to/your/vault/.obsidian/plugins/mcp-chat-yoran
```

#### æ–¹æ³• 3ï¼šåœ¨ Obsidian ä¸­å¯ç”¨

1. æ‰“å¼€ Obsidian è®¾ç½®
2. è¿›å…¥ã€Œç¤¾åŒºæ’ä»¶ã€
3. æ‰¾åˆ° "MCP Chat Yoran" å¹¶å¯ç”¨

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
obsidian-sample-plugin/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.ts                   # æ’ä»¶ä¸»å…¥å£
â”‚   â””â”€â”€ sidebar/                  # ä¾§è¾¹æ ç»„ä»¶
â”‚       â”œâ”€â”€ ChatComponent.tsx     # React èŠå¤©ç»„ä»¶
â”‚       â”œâ”€â”€ sidebar-view.ts       # ä¾§è¾¹æ è§†å›¾ç±»
â”‚       â””â”€â”€ styles.css           # ç»„ä»¶æ ·å¼
â”œâ”€â”€ mcp-chat-yoran/              # æ„å»ºè¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ main.js                  # ç¼–è¯‘åçš„ä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ manifest.json            # æ’ä»¶æ¸…å•
â”‚   â””â”€â”€ styles.css              # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ esbuild.config.mjs           # æ„å»ºé…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”œâ”€â”€ manifest.json               # æ’ä»¶æ¸…å•ï¼ˆæºæ–‡ä»¶ï¼‰
â”œâ”€â”€ package.json                # é¡¹ç›®é…ç½®
â””â”€â”€ README.md                   # é¡¹ç›®æ–‡æ¡£
```

## ğŸ® ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬æ“ä½œ

1. **æ‰“å¼€èŠå¤©é¢æ¿**ï¼š
   - ç‚¹å‡»å·¦ä¾§åŠŸèƒ½åŒºçš„æ¸¸æˆæ‰‹æŸ„å›¾æ ‡
   - æˆ–ä½¿ç”¨å‘½ä»¤é¢æ¿æœç´¢ç›¸å…³å‘½ä»¤

2. **å‘é€æ¶ˆæ¯**ï¼š
   - åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ¶ˆæ¯
   - æŒ‰ Enter é”®æˆ–ç‚¹å‡»å‘é€æŒ‰é’®
   - æ”¯æŒ Shift + Enter æ¢è¡Œ

3. **é€‰ä¸­æ–‡æœ¬äº¤äº’**ï¼š
   - åœ¨ç¼–è¾‘å™¨ä¸­é€‰ä¸­æ–‡æœ¬
   - æ–‡æœ¬ä¼šè‡ªåŠ¨å‘é€åˆ°èŠå¤©é¢æ¿

### å¿«æ·å·¥å…·

èŠå¤©é¢æ¿åº•éƒ¨æä¾›å¤šä¸ªå¿«æ·å·¥å…·ï¼š
- ğŸ“ **æ–°å»ºç¬”è®°**ï¼šå¿«é€Ÿåˆ›å»ºæ–°çš„ç¬”è®°
- ğŸ” **æœç´¢**ï¼šåœ¨ vault ä¸­æœç´¢å†…å®¹
- ğŸ“Š **ç»Ÿè®¡**ï¼šæŸ¥çœ‹æ–‡æ¡£ç»Ÿè®¡ä¿¡æ¯
- âš™ï¸ **è®¾ç½®**ï¼šæ‰“å¼€æ’ä»¶è®¾ç½®

## âš™ï¸ é…ç½®é€‰é¡¹

åœ¨ Obsidian è®¾ç½®çš„æ’ä»¶é…ç½®é¡µé¢ä¸­ï¼Œä½ å¯ä»¥è°ƒæ•´ï¼š

- èŠå¤©è¡Œä¸ºè®¾ç½®
- UI ä¸»é¢˜åå¥½
- MCP è¿æ¥é…ç½®
- å¿«æ·é”®ç»‘å®š

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æŠ€æœ¯æ ˆ

- **TypeScript**ï¼šç±»å‹å®‰å…¨çš„ JavaScript
- **React 18**ï¼šç°ä»£åŒ–çš„ UI æ¡†æ¶
- **esbuild**ï¼šå¿«é€Ÿçš„æ„å»ºå·¥å…·
- **Obsidian API**ï¼šæ’ä»¶å¼€å‘æ¥å£

### å¼€å‘ç¯å¢ƒè®¾ç½®

1. **å…‹éš†é¡¹ç›®**ï¼š
   ```bash
   git clone https://github.com/wyc7758775/obsidian-mcp-chat-yoran.git
   cd obsidian-mcp-chat-yoran
   ```

2. **å®‰è£…ä¾èµ–**ï¼š
   ```bash
   npm install
   ```

3. **å¯åŠ¨å¼€å‘**ï¼š
   ```bash
   npm run dev
   ```

### æ„å»ºæµç¨‹

é¡¹ç›®ä½¿ç”¨ esbuild è¿›è¡Œæ„å»ºï¼Œæ”¯æŒï¼š
- TypeScript ç¼–è¯‘
- React JSX è½¬æ¢
- ä»£ç æ‰“åŒ…å’Œä¼˜åŒ–
- å¼€å‘æ—¶çƒ­é‡è½½

### æ·»åŠ æ–°åŠŸèƒ½

1. **ä¿®æ”¹ React ç»„ä»¶**ï¼šç¼–è¾‘ `src/sidebar/ChatComponent.tsx`
2. **æ·»åŠ æ–°çš„ä¾§è¾¹æ åŠŸèƒ½**ï¼šä¿®æ”¹ `src/sidebar/sidebar-view.ts`
3. **æ‰©å±•æ’ä»¶åŠŸèƒ½**ï¼šåœ¨ `src/main.ts` ä¸­æ·»åŠ æ–°çš„å‘½ä»¤æˆ–äº‹ä»¶

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æ’ä»¶æ— æ³•åŠ è½½ï¼Œæç¤ºæ‰¾ä¸åˆ° main.js**

A: ç¡®ä¿è¿è¡Œäº†æ„å»ºå‘½ä»¤ `npm run build`ï¼Œå¹¶ä¸” `mcp-chat-yoran` ç›®å½•ä¸­å­˜åœ¨ `main.js` æ–‡ä»¶ã€‚

**Q: çƒ­é‡è½½ä¸å·¥ä½œ**

A: 
1. ç¡®ä¿å¼€å‘æ¨¡å¼æ­£åœ¨è¿è¡Œï¼š`npm run dev`
2. å®‰è£… Obsidian çš„ "Hot Reload" æ’ä»¶
3. æ‰‹åŠ¨é‡æ–°åŠ è½½æ’ä»¶ï¼šç¦ç”¨åé‡æ–°å¯ç”¨

**Q: React ç»„ä»¶ä¸æ˜¾ç¤º**

A: 
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
2. ç¡®ä¿æ‰€æœ‰ React ä¾èµ–å·²æ­£ç¡®å®‰è£…
3. éªŒè¯ JSX é…ç½®æ˜¯å¦æ­£ç¡®

**Q: æ„å»ºå¤±è´¥**

A:
1. æ£€æŸ¥ Node.js ç‰ˆæœ¬æ˜¯å¦ >= 16
2. åˆ é™¤ `node_modules` é‡æ–°å®‰è£…ä¾èµ–
3. æ£€æŸ¥ TypeScript è¯­æ³•é”™è¯¯

### è°ƒè¯•æŠ€å·§

1. **ä½¿ç”¨å¼€å‘è€…å·¥å…·**ï¼š
   - åœ¨ Obsidian ä¸­æŒ‰ `Ctrl/Cmd + Shift + I`
   - æŸ¥çœ‹ Console ä¸­çš„é”™è¯¯ä¿¡æ¯

2. **æ£€æŸ¥æ„å»ºè¾“å‡º**ï¼š
   ```bash
   ls -la mcp-chat-yoran/
   # åº”è¯¥çœ‹åˆ° main.js, manifest.json, styles.css
   ```

3. **éªŒè¯æ’ä»¶å®‰è£…**ï¼š
   ```bash
   ls -la /path/to/vault/.obsidian/plugins/mcp-chat-yoran/
   ```

## ğŸ“¦ å‘å¸ƒæµç¨‹

1. **æ›´æ–°ç‰ˆæœ¬å·**ï¼š
   ```bash
   npm version patch  # æˆ– minor, major
   ```

2. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**ï¼š
   ```bash
   npm run build
   ```

3. **åˆ›å»º GitHub Release**ï¼š
   - ä¸Šä¼  `manifest.json`ã€`main.js`ã€`styles.css`
   - ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ä½œä¸ºæ ‡ç­¾

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. åˆ›å»º Pull Request

### å¼€å‘è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª ESLint ä»£ç è§„èŒƒ
- æäº¤å‰è¿è¡Œæµ‹è¯•å’Œæ„å»º
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Obsidian](https://obsidian.md/) - å¼ºå¤§çš„çŸ¥è¯†ç®¡ç†å·¥å…·
- [React](https://reactjs.org/) - ç”¨æˆ·ç•Œé¢åº“
- [esbuild](https://esbuild.github.io/) - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- [TypeScript](https://www.typescriptlang.org/) - ç±»å‹å®‰å…¨çš„ JavaScript

## ğŸ“ è”ç³»æ–¹å¼

- ä½œè€…ï¼šYoran
- GitHubï¼š[wyc7758775](https://github.com/wyc7758775)
- é¡¹ç›®åœ°å€ï¼š[obsidian-mcp-chat-yoran](https://github.com/wyc7758775/obsidian-ai-chat)

---

å¦‚æœè¿™ä¸ªæ’ä»¶å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™é¡¹ç›®ä¸€ä¸ª â­ï¸ï¼
